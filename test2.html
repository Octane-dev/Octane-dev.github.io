<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.6.0.min.js"></script>
    <!-- <script src="fs.js"></script> -->

    <title>Forecast | Base</title>
</head>
<body>
    <div class="forecast-main">
        <div class="content">
            <div class="table">
                <div id="view" class="view-more-container">
                    <div class="view-more">
                        <div class="not-in-print">
                            <h1>7-Day Forecast</h1>
                            <h5>You are currently viewing a 2 day forecast,<br>click below to view the full forecast</h5>
                            <button id="view-more" type="button">View more</button>
                        </div>
                    </div>
                </div>
                <table class="forecast-table">
                    <caption style="z-index:3;position: relative;right:29.1%;font-weight:700;color:var(--snow);"><a style="text-decoration: underline;font-weight:700;color:var(--snow);" title="View Mid Forecast" id="cycle">View Forecast: <span id="station">Base (320m)</span></a> | Updates in: <span id="update" style="position: absolute;left:61.8%;color: black;font-weight: 400;"></span></caption>
                    <script type="text/javascript">
                        document.getElementById('view-more').addEventListener("click", function(){
                            document.getElementById('view').style.display = "none"
                            sessionStorage.setItem("view-page", true)
                        });
                        window.addEventListener("load", function(){
                            var view_page = sessionStorage.getItem("view-page")
                            if (view_page) {
                                document.getElementById('view').style.display = "none"
                            }
                        });

                        // Set the date we're counting down to

                        const d2 = new Date();
                        d2.setHours(24, 0, 0, 0);

                        console.log(d2); // Sat Jan 15 2022 00:00:00
                        // Update the count down every 1 second
                        var x = setInterval(function() {

                        // Get today's date and time
                        var now = new Date().getTime();

                        // Find the distance between now and the count down date
                        var distance = d2 - now;

                        // Time calculations for days, hours, minutes and seconds
                        // var days = Math.floor(distance / (1000 * 60 * 60 * 24));
                        var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                        var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                        var seconds = Math.floor((distance % (1000 * 60)) / 1000);

                        // Display the result in the element with id="demo"
                        document.getElementById("update").innerHTML = hours + "h "
                        + minutes + "m " + seconds + "s ";

                        // If the count down is finished, write some text
                        if (distance < 0) {
                            clearInterval(x);
                            document.getElementById("update").innerHTML = "0h 0m 0s";
                        }
                        }, 1000);
                    </script>
                    <thead>
                        <tr class="forecast-days">
                            <th class="datez"></th>
                            <td class="date"><span id="day1"><span><br><span id="date1"></span></td>
                            <td class="date"><span id="day2"><span><br><span id="date2"></span></td>
                            <td class="date"><span id="day3"><span><br><span id="date3"></span></td>
                            <td class="date"><span id="day4"><span><br><span id="date4"></span></td>
                            <td class="date"><span id="day5"><span><br><span id="date5"></span></td>
                            <td class="date"><span id="day6"><span><br><span id="date6"></span></td>
                            <td class="date"><span id="day7"><span><br><span id="date7"></span></td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="row weather">
                            <th class="wether"></th>
                            <td class="phrase-cell">
                                <div class="phrase-cell__container">
                                    <span id="w1-ph" class="phrase-cell__value" data-wthr="">-</span>
                                </div>
                            </td>
                            <td class="phrase-cell">
                                <div class="phrase-cell__container">
                                    <span id="w2-ph" class="phrase-cell__value" data-wthr="">-</span>
                                </div>
                            </td>
                            <td class="phrase-cell">
                                <div class="phrase-cell__container">
                                    <span id="w3-ph" class="phrase-cell__value" data-wthr="">-</span>
                                </div>
                            </td>
                            <td class="phrase-cell">
                                <div class="phrase-cell__container">
                                    <span id="w4-ph" class="phrase-cell__value" data-wthr="">-</span>
                                </div>
                            </td>
                            <td class="phrase-cell">
                                <div class="phrase-cell__container">
                                    <span id="w5-ph" class="phrase-cell__value" data-wthr="">-</span>
                                </div>
                            </td>
                            <td class="phrase-cell">
                                <div class="phrase-cell__container">
                                    <span id="w6-ph" class="phrase-cell__value" data-wthr="">-</span>
                                </div>
                            </td>
                            <td class="phrase-cell">
                                <div class="phrase-cell__container">
                                    <span id="w7-ph" class="phrase-cell__value" data-wthr="">-</span>
                                </div>
                            </td>
                        </tr>
                        <tr class="row wind">
                            <th class="windz"></th>
                            <td class="wind-cell">
                                <div class="wind-cell__container">
                                    <span class="wind-cell__value-spd"><span id="wind1">-</span> km/h</span>
                                    <span id="wind-dir-1" class="wind-cell__value-dir"></span>
                                </div>
                            </td>
                            <td class="wind-cell">
                                <div class="wind-cell__container">
                                    <span class="wind-cell__value-spd"><span id="wind2">-</span> km/h</span>
                                    <span id="wind-dir-2" class="wind-cell__value-dir">-</span>
                                </div>
                            </td>
                            <td class="wind-cell">
                                <div class="wind-cell__container">
                                    <span class="wind-cell__value-spd"><span id="wind3">-</span> km/h</span>
                                    <span id="wind-dir-3" class="wind-cell__value-dir">-</span>
                                </div>
                            </td>
                            <td class="wind-cell">
                                <div class="wind-cell__container">
                                    <span class="wind-cell__value-spd"><span id="wind4">-</span> km/h</span>
                                    <span id="wind-dir-4" class="wind-cell__value-dir">-</span>
                                </div>
                            </td>
                            <td class="wind-cell">
                                <div class="wind-cell__container">
                                    <span class="wind-cell__value-spd"><span id="wind5">-</span> km/h</span>
                                    <span id="wind-dir-5" class="wind-cell__value-dir">-</span>
                                </div>
                            </td>
                            <td class="wind-cell">
                                <div class="wind-cell__container">
                                    <span class="wind-cell__value-spd"><span id="wind6">-</span> km/h</span>
                                    <span id="wind-dir-6" class="wind-cell__value-dir">-</span>
                                </div>
                            </td>
                            <td class="wind-cell">
                                <div class="wind-cell__container">
                                    <span class="wind-cell__value-spd"><span id="wind7">-</span> km/h</span>
                                    <span id="wind-dir-7" class="wind-cell__value-dir">-</span>
                                </div>
                            </td>
                        </tr>
                        <tr class="row snow">
                            <th class="snow-cm">Snow cm</th>
                            <td class="snow-cell">
                                <div class="snow-cell__container">
                                    <span id="snow-cell__value1" class="snow-cell__value">-</span>
                                    <span id="snow-cell__fill1" class="snow-cell__fill" style="height: 45px;"></span>
                                </div>
                            </td>
                            <td class="snow-cell">
                                <div class="snow-cell__container">
                                    <span id="snow-cell__value2" class="snow-cell__value">-</span>
                                    <span id="snow-cell__fill2" class="snow-cell__fill1" style="height: 45px;"></span>
                                </div>
                            </td>
                            <td class="snow-cell">
                                <div class="snow-cell__container">
                                    <span id="snow-cell__value3" class="snow-cell__value">-</span>
                                    <span id="snow-cell__fill3" class="snow-cell__fill2" style="height: 45px;"></span>
                                </div>
                            </td>
                            <td class="snow-cell">
                                <div class="snow-cell__container">
                                    <span id="snow-cell__value4" class="snow-cell__value">-</span>
                                    <span id="snow-cell__fill4" class="snow-cell__fill3" style="height: 45px;"></span>
                                </div>
                            </td>
                            <td class="snow-cell">
                                <div class="snow-cell__container">
                                    <span id="snow-cell__value5" class="snow-cell__value">-</span>
                                    <span id="snow-cell__fill5" class="snow-cell__fill4" style="height: 45px;"></span>
                                </div>
                            </td>
                            <td class="snow-cell">
                                <div class="snow-cell__container">
                                    <span id="snow-cell__value6" class="snow-cell__value">-</span>
                                    <span id="snow-cell__fill6" class="snow-cell__fill5" style="height: 45px;"></span>
                                </div>
                            </td>
                            <td class="snow-cell">
                                <div class="snow-cell__container">
                                    <span id="snow-cell__value7" class="snow-cell__value">-</span>
                                    <span id="snow-cell__fill7" class="snow-cell__fill6" style="height: 45px;"></span>
                                </div>
                            </td>
                        </tr>
                        <tr class="row rain">
                            <th class="rain-mm">Rain mm</th>
                            <td class="rain-cell">
                                <div class="rain-cell__container">
                                    <span id="rain-cell__value1" class="rain-cell__value">-</span>
                                    <span id="rain-cell__fill1" class="rain-cell__fill" style="height: 45px;"></span>
                                </div>
                            </td>
                            <td class="rain-cell">
                                <div class="rain-cell__container">
                                    <span id="rain-cell__value2" class="rain-cell__value">-</span>
                                    <span id="rain-cell__fill2" class="rain-cell__fill1" style="height: 45px;"></span>
                                </div>
                            </td>
                            <td class="rain-cell">
                                <div class="rain-cell__container">
                                    <span id="rain-cell__value3" class="rain-cell__value">-</span>
                                    <span id="rain-cell__fill3" class="rain-cell__fill2" style="height: 45px;"></span>
                                </div>
                            </td>
                            <td class="rain-cell">
                                <div class="rain-cell__container">
                                    <span id="rain-cell__value4" class="rain-cell__value">-</span>
                                    <span id="rain-cell__fill4" class="rain-cell__fill3" style="height: 45px;"></span>
                                </div>
                            </td>
                            <td class="rain-cell">
                                <div class="rain-cell__container">
                                    <span id="rain-cell__value5" class="rain-cell__value">-</span>
                                    <span id="rain-cell__fill5" class="rain-cell__fill4" style="height: 45px;"></span>
                                </div>
                            </td>
                            <td class="rain-cell">
                                <div class="rain-cell__container">
                                    <span id="rain-cell__value6" class="rain-cell__value">-</span>
                                    <span id="rain-cell__fill6" class="rain-cell__fill5" style="height: 45px;"></span>
                                </div>
                            </td>
                            <td class="rain-cell">
                                <div class="rain-cell__container">
                                    <span id="rain-cell__value7" class="rain-cell__value">-</span>
                                    <span id="rain-cell__fill7" class="rain-cell__fill6" style="height: 45px;"></span>
                                </div>
                            </td>
                        </tr>
                        <tr class="row top-deg">
                            <th class="max-deg">Max °C</th>
                            <td id="top-deg-cell" class="top-deg-cell" data-temp="sub-5">
                                <div class="top-deg-cell__container">
                                    <span id="top-deg-cell__value1" class="top-deg-cell__value sub-zero sub--5"></span>
                                </div>
                            </td>
                            <td id="top-deg-cell1" class="top-deg-cell" data-temp="sub-5">
                                <div class="top-deg-cell__container">
                                    <span id="top-deg-cell__value2" class="top-deg-cell__value sub-zero"></span>
                                </div>
                            </td>
                            <td id="top-deg-cell2" class="top-deg-cell" data-temp="sub-5">
                                <div class="top-deg-cell__container">
                                    <span id="top-deg-cell__value3" class="top-deg-cell__value sub-zero sub--5"></span>
                                </div>
                            </td>
                            <td id="top-deg-cell3" class="top-deg-cell" data-temp="sub-5">
                                <div class="top-deg-cell__container">
                                    <span id="top-deg-cell__value4" class="top-deg-cell__value sub-zero"></span>
                                </div>
                            </td>
                            <td id="top-deg-cell4" class="top-deg-cell" data-temp="sub-5">
                                <div class="top-deg-cell__container">
                                    <span id="top-deg-cell__value5" class="top-deg-cell__value sub-zero sub--5"></span>
                                </div>
                            </td>
                            <td id="top-deg-cell5" class="top-deg-cell" data-temp="sub-5">
                                <div class="top-deg-cell__container">
                                    <span id="top-deg-cell__value6" class="top-deg-cell__value sub-zero sub--5"></span>
                                </div>
                            </td>
                            <td id="top-deg-cell6" class="top-deg-cell" data-temp="sub-5">
                                <div class="top-deg-cell__container">
                                    <span id="top-deg-cell__value7" class="top-deg-cell__value sub-zero sub--5"></span>
                                </div>
                            </td>
                        </tr>
                        <tr class="row min-deg">
                            <th class="bot-deg">Min °C</th>
                            <td id="min-deg-cell" class="min-deg-cell" data-temp="sub-5">
                                <div class="min-deg-cell__container">
                                    <span id="min-deg-cell__value1" class="min-deg-cell__value"></span>
                                </div>
                            </td>
                            <td id="min-deg-cell1" class="min-deg-cell" data-temp="sub-5">
                                <div class="min-deg-cell__container">
                                    <span id="min-deg-cell__value2" class="min-deg-cell__value"></span>
                                </div>
                            </td>
                            <td id="min-deg-cell2" class="min-deg-cell" data-temp="sub-5">
                                <div class="min-deg-cell__container">
                                    <span id="min-deg-cell__value3" class="min-deg-cell__value"></span>
                                </div>
                            </td>
                            <td id="min-deg-cell3" class="min-deg-cell" data-temp="sub-5">
                                <div class="min-deg-cell__container">
                                    <span id="min-deg-cell__value4" class="min-deg-cell__value"></span>
                                </div>
                            </td>
                            <td id="min-deg-cell4" class="min-deg-cell" data-temp="sub-5">
                                <div class="min-deg-cell__container">
                                    <span id="min-deg-cell__value5" class="min-deg-cell__value"></span>
                                </div>
                            </td>
                            <td id="min-deg-cell5" class="min-deg-cell" data-temp="sub-5">
                                <div class="min-deg-cell__container">
                                    <span id="min-deg-cell__value6" class="min-deg-cell__value"></span>
                                </div>
                            </td>
                            <td id="min-deg-cell6" class="min-deg-cell" data-temp="sub-5">
                                <div class="min-deg-cell__container">
                                    <span id="min-deg-cell__value7" class="min-deg-cell__value"></span>
                                </div>
                            </td>
                        </tr>
                        <tr class="row chill-deg">
                            <th class="chill-degr">Chill °C</th>
                            <td id="chill-deg-cell1" class="chill-deg-cell" data-temp="sub-zero">
                                <div class="chill-deg-cell__container">
                                    <span id="chill-deg-cell__value1" class="chill-deg-cell__value"></span>
                                </div>
                            </td>
                            <td id="chill-deg-cell2" class="chill-deg-cell" data-temp="sub-zero">
                                <div class="chill-deg-cell__container">
                                    <span id="chill-deg-cell__value2" class="chill-deg-cell__value"></span>
                                </div>
                            </td>
                            <td id="chill-deg-cell3" class="chill-deg-cell" data-temp="sub-zero">
                                <div class="chill-deg-cell__container">
                                    <span id="chill-deg-cell__value3" class="chill-deg-cell__value"></span>
                                </div>
                            </td>
                            <td id="chill-deg-cell4" class="chill-deg-cell" data-temp="sub-zero">
                                <div class="chill-deg-cell__container">
                                    <span id="chill-deg-cell__value4" class="chill-deg-cell__value"></span>
                                </div>
                            </td>
                            <td id="chill-deg-cell5" class="chill-deg-cell" data-temp="sub-zero">
                                <div class="chill-deg-cell__container">
                                    <span id="chill-deg-cell__value5" class="chill-deg-cell__value"></span>
                                </div>
                            </td>
                            <td id="chill-deg-cell6" class="chill-deg-cell" data-temp="sub-zero">
                                <div class="chill-deg-cell__container">
                                    <span id="chill-deg-cell__value6" class="chill-deg-cell__value"></span>
                                </div>
                            </td>
                            <td id="chill-deg-cell7" class="chill-deg-cell" data-temp="sub-zero">
                                <div class="chill-deg-cell__container">
                                    <span id="chill-deg-cell__value7" class="chill-deg-cell__value"></span>
                                </div>
                            </td>
                        </tr>
                        <tr class="row picture">
                            <th class="freezing-level">Freezing Level</th>
                            <th id="freezing-point" class="freezing-point1">2000m</th>
                            <th id="freezing-point" class="freezing-point2">1500m</th>
                            <th id="freezing-point" class="freezing-point3">1000m</th>
                            <th id="freezing-point" class="freezing-point4">500m</th>
                            <th id="freezing-point" class="freezing-point5">0m</th>
                            <div class="picture-container" style="display: flex;justify-content:center;">
                                <img src="freezing-graph_backdrop-snow-4de4387d27ad6336a9ea8426d9c327db.png" alt="" style="position: absolute;top:49%;left: 12.8%;border: 1px solid #000;">
                            </div>
                            <div class="data">
                                <div class="lines">
                                    <span class="line1"></span>
                                    <span class="line2"></span>
                                    <span class="line3"></span>
                                    <span class="line4"></span>
                                    <span class="line5"></span>
                                    <span class="heightline1"></span>
                                    <span class="heightline2"></span>
                                </div>
                                <div class="points">
                                    <span class="point" style="position: absolute;left: 250px;top: 725px;z-index: 5;"></span>
                                    <span class="point" style="position: absolute;left: 420px;top: 725px;z-index: 5;"></span>
                                    <span class="point" style="position: absolute;left: 570px;top: 725px;z-index: 5;"></span>
                                    <span class="point" style="position: absolute;left: 730px;top: 725px;z-index: 5;"></span>
                                    <span class="point" style="position: absolute;left: 890px;top: 725px;z-index: 5;"></span>
                                    <span class="point" style="position: absolute;left: 1055px;top: 725px;z-index: 5;"></span>
                                    <span class="point" style="position: absolute;left: 1220px;top: 725px;z-index: 5;"></span>
                                    <span class="line"></span>
                                    <span class="line"></span>
                                    <span class="line"></span>
                                    <span class="line"></span>
                                    <span class="line"></span>
                                    <span class="line"></span>
                                </div>
                            </div>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <!-- Scripts 
    Freezing Level -->
    <script type="text/javascript">

    
        const point1 = document.getElementsByClassName('point')[0]
        const point2 = document.getElementsByClassName('point')[1]
        const point3 = document.getElementsByClassName('point')[2]
        const point4 = document.getElementsByClassName('point')[3]
        const point5 = document.getElementsByClassName('point')[4]
        const point6 = document.getElementsByClassName('point')[5]
        const point7 = document.getElementsByClassName('point')[6]
        const line = document.getElementsByClassName('line')[0]
        const line1 = document.getElementsByClassName('line')[1]
        const line2 = document.getElementsByClassName('line')[2]
        const line3 = document.getElementsByClassName('line')[3]
        const line4 = document.getElementsByClassName('line')[4]
        const line5 = document.getElementsByClassName('line')[5]
    </script>
    <script src="dates.js"></script>
    <!-- Degrees stuff -->
    <script type="text/javascript">
    let q = 0
let station = "Bot"
const stations = ["Bot","Mid","Top"]
const station_heights = ["320","1000","1700"]
var date = dateNow
var peak_wind_gust = 0
var mid_wind_gust = 0
var vlly_wind_gust = 0
var peak_wind_spd = 0
var mid_wind_spd = 0
var vlly_wind_spd = 0
var peak_min_tmp = 0
var peak_max_tmp = 0
var peak_feel_like = 0
var mid_min_temp = 0
var mid_max_tmp = 0
var mid_feel_like = 0
var vlly_min_tmp = 0
var vlly_max_tmp = 0
var vlly_feel_like = 0
var inversion = 0
var peak_w2 = 0
var peak_w5 = 0
var mid_w2 = 0
var mid_w5 = 0
var vlly_w2 = 0
var vlly_w5 = 0
var peak_rain = 0
var mid_rain = 0
var vlly_rain = 0
var peak_snow = 0
var mid_snow = 0
var vlly_snow = 0
var thunder = 0
var pk_snow_dph = 0
var md_snow_dph = 0
var vy_snow_dph = 0
var wind_dir = 0
var rows = 1
</script>
<script src="processData.js"></script>
<script src="readData.js"></script>
<script>
    var el = document.getElementById("cycle")
    q = 0
    el.addEventListener("click", function () {

        q = q + 1
        if (q > 2) {
            q = 0
        }
        station = stations[q]
        console.log(station)
        drawTable(station)
        processData()
    });
    function myDisplayer(some) {
        drawTable(station)
        processData()
    }

    read_data(myDisplayer)
    </script>
</body>
</html>